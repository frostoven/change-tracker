<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Change Tracker Browser test</title>

  <style>
    * {
      color: #f6f6f6;
      background-color: #3d3d3d;
    }
    h4, p {
      font-family: Arial, sans-serif;
    }
    #code-output {
      font-family: monospace;
    }
  </style>

  <script src="https://unpkg.com/change-tracker@1.0.2/browser.js"></script>

  <script>
    window.onload = () => {
      var codeOutput = document.getElementById('code-output');
      if (!codeOutput) {
        return alert('Could not find the output div. This is likely a bug.');
      }

      var myVar = new ChangeTracker();
      myVar.getOnce(v => codeOutput.append('-> Got value: ', v));
      setTimeout(() => {
        myVar.setValue(Math.random());
      }, 1000)
    };
  </script>
</head>
<body>
  <h4>Note: this is not a full test suite. It only checks that the library actually runs in the browser.</h4>
  <p>
    For full tests, run:<br>
    <code>npm run test</code>.
  </p>
  <div id="code-output">
    Registering listener, then waiting 1 second before publishing change.<br>
  </div>
</body>
</html>
